{% extends "bibliotech/base.html" %}

{% block content %}
<div class="tile is-ancestor">
	<div class="tile is-parent">
		<div class="panel is-dark" style="width: 100%;">
			<div class="panel-heading">
				Item Groups
			</div>
			<div class="panel-body" style="max-height: 100%; overflow: auto;">
				{% if object_list|length > 0 %}

				<div class="panel-block">
					<div class="level">
						<div class="level-left">
							<div class="level-item">
								<input class="input" type="text" placeholder="Filter/search">
							</div>
						</div>
						<div class="level-right">
							<div class="level-item">
								<button class="button is-success">Add new</button>
							</div>
						</div>
					</div>
				</div>

				{% for itemgroup in object_list %}
				<a class="panel-block {% if itemgroup.id == active.id %}has-background-grey-lighter{% endif %}" 
					href="{% url 'master-inventory' %}?active={{itemgroup.id}}">
					{{itemgroup}}
				</a>
				{% endfor %}
				{% else %}
				No items to display!
				{% endif %}
				</div>
		</div>
	</div>

	<div class="tile is-parent is-8">
		<div class="panel is-dark" style="width: 100%;">
			<div class="panel-heading">
				Items
			</div>
			<div class="panel-body">
				{% if active_item_set and active %}
				<div class="panel-block" style="display: block">
					<div class="level">
						<div class="level-left">
							<div class="level-item">
								<div class="control">
									<input class="input" type="text" placeholder="Filter/search">
								</div>
							</div>
						</div>
						<div class="level-right">
							<div class="level-item">
								<button class="button is-success">Add new</button>
							</div>
						</div>
					</div>
				</div>
				<table class="table is-fullwidth">
					<thead>
						<th>Library Id</th>
						<th>Serial Num</th>
						<th>Condition</th>
						<th>Availability</th>
						<th>Actions</th>
					</thead>
					<tbody>
					{% for item in active_item_set %}
					<tr>
						<td>{{ item.library_id }}</td>
						<td>{{ item.serial_num }}</td>
						<td>{{ item.condition }}</td>
						<td>{{ item.availability }}</td>
						<td>
							<div class="buttons">
								<button class="button is-warning is-small">Update</button>
								<button class="button is-danger is-small is-outlined">Delete</button>
							</div>
						</td>
					</tr>
					{% endfor %}
					</tbody>
				</table>
				{% else %}
				<div>No ItemGroup selected</div>
				{% endif %}
			</div>
		</div>
	</div>

{% endblock %}
